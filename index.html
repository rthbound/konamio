<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Konamio by rthbound</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <img src='https://raw.github.com/rthbound/konamio/gh-pages/images/konamio.png' />
        <p>It listens for the konami code (or whatever sequence you specify)</p>

        <p class="view"><a href="https://github.com/rthbound/konamio">View the Project on GitHub <small>rthbound/konamio</small></a></p>

      </header>
      <section>
        <h2>
<a name="konamio" class="anchor" href="#konamio"><span class="octicon octicon-link"></span></a>Konamio</h2>

<p><a href="http://badge.fury.io/rb/konamio"><img src="https://badge.fury.io/rb/konamio.png" alt="Gem Version"></a>  <a href="https://travis-ci.org/rthbound/konamio"><img src="https://travis-ci.org/rthbound/konamio.png?branch=master" alt="Build Status"></a> <a href="https://coveralls.io/r/rthbound/konamio"><img src="https://coveralls.io/repos/rthbound/konamio/badge.png" alt="Coverage Status"></a> <a href="https://codeclimate.com/github/rthbound/konamio"><img src="https://codeclimate.com/github/rthbound/konamio.png" alt="Code Climate"></a></p>

<pre><code>gem install konamio
</code></pre>

<p>and</p>

<pre><code>require "konamio"
</code></pre>

<h3>
<a name="default-usage" class="anchor" href="#default-usage"><span class="octicon octicon-link"></span></a>Default Usage</h3>

<pre><code>&gt; Konamio::Sequence::Requisition.new.execute!
Enter konami code (or hit escape)
Good job, you.
=&gt; #&lt;Konamio::Result:0x937ddb4
  @data={:data=&gt;{:confirmation=&gt;"Good job, you."}},
  @success=true&gt;
</code></pre>

<h3>
<a name="configuration" class="anchor" href="#configuration"><span class="octicon octicon-link"></span></a>Configuration</h3>

<h4>
<a name="sequences" class="anchor" href="#sequences"><span class="octicon octicon-link"></span></a>Sequences</h4>

<p>You can configure it to listen for any ascii based sequence you want
using the <code>:sequence</code> option. This can be specified using a string
(<code>"foobar"</code>) or an array of recognized symbols and one-character strings
(escaped charactersare okay, e.g. <code>[:up, "1", "2", "3", "\t"]</code>):</p>

<pre><code>&gt; Konamio::Sequence::Requisition.new({
    sequence:     "a".upto("z").to_a.reverse,
    prompt:       "Say the alphabet backwards",
    confirmation: "Okay, you can go"
  }).execute!
Say the alphabet backwards
Okay, you can go
=&gt; #&lt;Konamio::Result:0x9265788
  @data={:data=&gt;{:confirmation=&gt;"Okay, you can go"}},
  @success=true&gt;
</code></pre>

<h4>
<a name="output" class="anchor" href="#output"><span class="octicon octicon-link"></span></a>Output</h4>

<p>There are three dialogs that Konamio might send to stdout.</p>

<ol>
<li>
<code>:prompt</code> is the dialog displayed initially, and each time the user fails to supply the proper sequence.</li>
<li>
<code>:confirmation</code> is displayed when the required sequence is entered properly.</li>
<li>
<code>:cancellation</code> is displayed when user terminates by pressing the escape key.</li>
</ol><p>You can customize any of these dialogs, or disable them individually by passing a falsey value.</p>

<h4>
<a name="success" class="anchor" href="#success"><span class="octicon octicon-link"></span></a>Success!</h4>

<p>It would be boring if all Konamio did was return a result object. That's why
<code>Konamio::Sequence::Requisition#execute!</code> <strong>takes a block</strong>, and will execute
that block when the sequence has been successfully entered. You're limited only
by your imagination and the context of your application. Konamio will supply
the value of the sequence to the block.</p>

<p>The following code would prompt the user to enter the konami code twice:</p>

<div class="highlight"><pre><span class="ss">Konamio</span><span class="p">:</span><span class="ss">:Sequence</span><span class="o">::</span><span class="no">Requisition</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">execute!</span> <span class="p">{</span> <span class="ss">Konamio</span><span class="p">:</span><span class="ss">:Sequence</span><span class="o">::</span><span class="no">Requisition</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">execute!</span> <span class="p">}</span>
</pre></div>

<p>This would give you +30 lives:</p>

<div class="highlight"><pre><span class="ss">Konamio</span><span class="p">:</span><span class="ss">:Sequence</span><span class="o">::</span><span class="no">Requisition</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">execute!</span> <span class="p">{</span> <span class="mi">30</span><span class="o">.</span><span class="n">times</span> <span class="p">{</span> <span class="nb">puts</span> <span class="s2">"+1up"</span> <span class="p">}</span> <span class="p">}</span>
</pre></div>

<h2>
<a name="more-fun" class="anchor" href="#more-fun"><span class="octicon octicon-link"></span></a>More fun</h2>

<p><strong>"Password protect"</strong> your rails console by doing the following:</p>

<ol>
<li>Follow these <a href="http://samuelmullen.com/2010/04/irb-global-local-irbrc/">instructions</a> to obtain a <code>.irbrc</code> file that loads your local <code>.irbrc</code>
</li>
<li>Add this gem to your rails project, then create a <code>.irbrc</code> file for the project containing</li>
</ol><div class="highlight"><pre><span class="nb">require</span> <span class="s2">"konamio"</span>
<span class="ss">Konamio</span><span class="p">:</span><span class="ss">:Sequence</span><span class="o">::</span><span class="no">Requisition</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">prompt</span><span class="p">:</span> <span class="kp">false</span><span class="p">,</span> <span class="ss">confirmation</span><span class="p">:</span> <span class="kp">false</span><span class="p">,</span> <span class="ss">cancellation</span><span class="p">:</span> <span class="kp">false</span><span class="p">)</span><span class="o">.</span><span class="n">execute!</span>
</pre></div>

<p>to require console users to enter the konami code. This funny trick obviously does not provide any real protection, but it would certainly make for a nasty practical joke.</p>

<h2>
<a name="more-information" class="anchor" href="#more-information"><span class="octicon octicon-link"></span></a>More information</h2>

<p>For more information, see the <a href="http://rubydoc.info/gems/konamio/1.0.1/frames">docs</a></p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/rthbound">rthbound</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
